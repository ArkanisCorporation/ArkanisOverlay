@inherits TradeRunComponent

<TradeRunSummaryTemplate Events="@TradeRun.CreateEvents()">
    <MudStack Class="h-100 w-100 pa-6">
        <MudStack AlignItems="@AlignItems.Center"
                  Justify="@Justify.SpaceBetween"
                  Class="w-100"
                  Row>
            <MudText Typo="@Typo.h6">
                Trade run profit
            </MudText>
            <GameCurrencyLabel
                Model="@TradeRun.Profit"
                Typo="@Typo.h6"
                UseColour/>
        </MudStack>
        <MudStack AlignItems="@AlignItems.Center"
                  Justify="@Justify.SpaceBetween"
                  Class="w-100"
                  Row>
            <MudText Typo="@Typo.h6">
                Trade run length
            </MudText>
            <MudText Typo="@Typo.h6" Color="@Color.Success">
                @(((TradeRun.FinishedAt ?? DateTimeOffset.UtcNow) - TradeRun.CreatedAt).Humanize())
            </MudText>
        </MudStack>
        <MudStack AlignItems="@AlignItems.Center"
                  Justify="@Justify.SpaceBetween"
                  Class="w-100"
                  Row>
            <MudText Typo="@Typo.h6">
                Cargo sold
            </MudText>
            <MudStack AlignItems="@AlignItems.End"
                      Row>
                <MudText Typo="@Typo.h6" Color="@Color.Warning">
                    <QuantityAggregateLabel
                        Models="@(TradeRun.Sales.Select(x => x.Quantity))"/>
                </MudText>
                <MudText Typo="@Typo.h6" Class="text-secondary">
                    /
                </MudText>
                <MudText Typo="@Typo.h6" Color="@Color.Success">
                    <QuantityAggregateLabel
                        Models="@(TradeRun.Acquisitions.Select(x => x.Quantity))"/>
                </MudText>
            </MudStack>
        </MudStack>
        <MudSpacer/>
        @ControlsContent
    </MudStack>
</TradeRunSummaryTemplate>

@code
{

    [Parameter]
    public RenderFragment? ControlsContent { get; set; }

}
