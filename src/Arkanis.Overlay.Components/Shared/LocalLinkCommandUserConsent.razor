@using Arkanis.Overlay.LocalLink.Models
@using Arkanis.Overlay.LocalLink.Models.Commands
@implements IUserConsentDialogService.IContent

<MudStack>
    @if (Command is SetExternalServiceCredentialsCommand setExternalServiceCredentialsCommand)
    {
        <LocalLinkSetExternalServiceCredentialsCommandDetails
            Model="@setExternalServiceCredentialsCommand"
            DialogContext="@DialogContext"
            DialogContextChanged="@DialogContextChanged"/>
    }
    else
    {
        <MudText Typo="@Typo.body2"
                 Color="@Color.Warning">
            There are no details available for this command.
            Continue at your own risk.
        </MudText>
    }
</MudStack>

@code
{

    [Parameter]
    public IUserConsentDialogService.Context DialogContext { get; set; } = new();

    [Parameter]
    public EventCallback<IUserConsentDialogService.Context> DialogContextChanged { get; set; }

    [Parameter]
    public LocalLinkCommandBase? Command { get; set; }

    public static IDictionary<string, object> GetParameters(LocalLinkCommandBase command)
        => new Dictionary<string, object>
        {
            [nameof(Command)] = command,
        };

}
